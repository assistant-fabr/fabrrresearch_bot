# fabrrresearch_bot

Локальный Telegram-бот мини-курса на базе `python-telegram-bot`.

## Запуск

1. Установить зависимости:

```bash
python -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
```

2. Проверь `.env` — там лежит `BOT_TOKEN` и `ADMIN_IDS`.

3. Запусти бота:

```bash
python bot.py
```

4. Открой бота в Telegram и напиши `/start`.

## Примечание по версиям

В проекте используется `python-telegram-bot==13.15` для совместимости с Python 3.7,
который стоит по умолчанию в этой среде. Если обновишь Python до 3.8+,
можно перейти на ветку 20.x и асинхронный API.

## Как устроено

- `content.txt` разбивается на шаги по разделителю `________________`.
- Кнопки — inline под сообщениями (`Кнопка [ ... ]`).
- Видео отправляются по `file_id` из `FILE_ID_MAP` (папка `videos/` не нужна).
- Прогресс и пользователи хранятся в SQLite (`users.db`).

## Админ-режим

В `.env` добавь список админов:

```
ADMIN_IDS=123456789,987654321
```

Команды:
- `/stats` — всего / активных / завершили курс
- `/broadcast <текст>` — рассылка по активным
- `/user <id>` — карточка пользователя

## Сброс

Команда `/reset` начинает курс заново.
